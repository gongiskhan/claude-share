{
  "version": "1.0",
  "skillType": "integration",
  "integrationKey": "gmail",
  "displayName": "Gmail",
  "description": "Read and search emails from Gmail accounts. Supports fetching emails, searching by query, retrieving specific messages, and accessing attachment metadata.",
  "authType": "oauth2",
  "provider": "Google",
  "category": "communication",
  "docsUrl": "https://developers.google.com/gmail/api/reference/rest",
  "configSchema": [
    {
      "key": "oauth2_client_id",
      "label": "OAuth2 Client ID",
      "type": "string",
      "required": true,
      "secret": false,
      "helpText": "Google OAuth2 Client ID from Google Cloud Console"
    },
    {
      "key": "oauth2_client_secret",
      "label": "OAuth2 Client Secret",
      "type": "string",
      "required": true,
      "secret": true,
      "helpText": "Google OAuth2 Client Secret - keep this secure"
    }
  ],
  "actions": [
    {
      "actionName": "read_emails",
      "description": "Fetch recent emails from the inbox or a specific label. Returns a list of email summaries.",
      "argsSchema": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "description": "Label/folder to read from (e.g., 'INBOX', 'SENT', 'STARRED'). Defaults to INBOX."
          },
          "max_results": {
            "type": "number",
            "description": "Maximum number of emails to return. Defaults to 10, max 100."
          },
          "include_body": {
            "type": "boolean",
            "description": "Whether to include email body content. Defaults to false for performance."
          }
        },
        "required": []
      },
      "returnSchema": {
        "type": "object",
        "properties": {
          "emails": {
            "type": "array",
            "description": "List of email objects",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique email ID"
                },
                "thread_id": {
                  "type": "string",
                  "description": "Thread ID this email belongs to"
                },
                "subject": {
                  "type": "string",
                  "description": "Email subject line"
                },
                "from": {
                  "type": "string",
                  "description": "Sender email address"
                },
                "to": {
                  "type": "string",
                  "description": "Recipient email addresses"
                },
                "date": {
                  "type": "string",
                  "description": "ISO 8601 timestamp when email was received"
                },
                "snippet": {
                  "type": "string",
                  "description": "Short preview of email content"
                },
                "body": {
                  "type": "string",
                  "description": "Full email body (if include_body was true)"
                },
                "has_attachments": {
                  "type": "boolean",
                  "description": "Whether email has attachments"
                }
              }
            }
          },
          "result_count": {
            "type": "number",
            "description": "Number of emails returned"
          }
        }
      },
      "mutates": false
    },
    {
      "actionName": "search_emails",
      "description": "Search emails using Gmail search query syntax (same as Gmail search bar).",
      "argsSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Gmail search query (e.g., 'from:john@example.com', 'subject:invoice', 'is:unread', 'after:2024/01/01')"
          },
          "max_results": {
            "type": "number",
            "description": "Maximum number of emails to return. Defaults to 10, max 100."
          },
          "include_body": {
            "type": "boolean",
            "description": "Whether to include email body content. Defaults to false."
          }
        },
        "required": [
          "query"
        ]
      },
      "returnSchema": {
        "type": "object",
        "properties": {
          "emails": {
            "type": "array",
            "description": "List of matching email objects",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique email ID"
                },
                "thread_id": {
                  "type": "string",
                  "description": "Thread ID"
                },
                "subject": {
                  "type": "string",
                  "description": "Email subject line"
                },
                "from": {
                  "type": "string",
                  "description": "Sender email address"
                },
                "to": {
                  "type": "string",
                  "description": "Recipient email addresses"
                },
                "date": {
                  "type": "string",
                  "description": "ISO 8601 timestamp"
                },
                "snippet": {
                  "type": "string",
                  "description": "Short preview of content"
                },
                "body": {
                  "type": "string",
                  "description": "Full body if requested"
                },
                "has_attachments": {
                  "type": "boolean",
                  "description": "Whether email has attachments"
                }
              }
            }
          },
          "result_count": {
            "type": "number",
            "description": "Number of matching emails"
          }
        }
      },
      "mutates": false
    },
    {
      "actionName": "get_email",
      "description": "Retrieve a specific email by its ID with full details including body content.",
      "argsSchema": {
        "type": "object",
        "properties": {
          "email_id": {
            "type": "string",
            "description": "The unique ID of the email to retrieve"
          },
          "format": {
            "type": "string",
            "description": "Response format: 'full' (default), 'minimal', or 'raw'"
          }
        },
        "required": [
          "email_id"
        ]
      },
      "returnSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique email ID"
          },
          "thread_id": {
            "type": "string",
            "description": "Thread ID"
          },
          "subject": {
            "type": "string",
            "description": "Email subject line"
          },
          "from": {
            "type": "string",
            "description": "Sender email address and name"
          },
          "to": {
            "type": "string",
            "description": "Recipient email addresses"
          },
          "cc": {
            "type": "string",
            "description": "CC recipients"
          },
          "bcc": {
            "type": "string",
            "description": "BCC recipients"
          },
          "date": {
            "type": "string",
            "description": "ISO 8601 timestamp"
          },
          "body_text": {
            "type": "string",
            "description": "Plain text body content"
          },
          "body_html": {
            "type": "string",
            "description": "HTML body content"
          },
          "labels": {
            "type": "array",
            "description": "Labels applied to this email",
            "items": {
              "type": "string"
            }
          },
          "attachments": {
            "type": "array",
            "description": "List of attachment metadata",
            "items": {
              "type": "object",
              "properties": {
                "attachment_id": {
                  "type": "string",
                  "description": "Attachment ID for retrieval"
                },
                "filename": {
                  "type": "string",
                  "description": "Original filename"
                },
                "mime_type": {
                  "type": "string",
                  "description": "MIME type of attachment"
                },
                "size": {
                  "type": "number",
                  "description": "Size in bytes"
                }
              }
            }
          }
        }
      },
      "mutates": false
    },
    {
      "actionName": "get_email_attachments",
      "description": "Get attachment metadata and secure download URLs for a specific email.",
      "argsSchema": {
        "type": "object",
        "properties": {
          "email_id": {
            "type": "string",
            "description": "The unique ID of the email containing attachments"
          },
          "attachment_id": {
            "type": "string",
            "description": "Optional: specific attachment ID to retrieve. If omitted, returns all attachments."
          }
        },
        "required": [
          "email_id"
        ]
      },
      "returnSchema": {
        "type": "object",
        "properties": {
          "attachments": {
            "type": "array",
            "description": "List of attachment objects with download URLs",
            "items": {
              "type": "object",
              "properties": {
                "attachment_id": {
                  "type": "string",
                  "description": "Unique attachment identifier"
                },
                "filename": {
                  "type": "string",
                  "description": "Original filename"
                },
                "mime_type": {
                  "type": "string",
                  "description": "MIME type (e.g., 'application/pdf', 'image/png')"
                },
                "size": {
                  "type": "number",
                  "description": "File size in bytes"
                },
                "download_url": {
                  "type": "string",
                  "description": "Secure, time-limited URL to download the attachment"
                }
              }
            }
          },
          "total_count": {
            "type": "number",
            "description": "Total number of attachments"
          },
          "total_size": {
            "type": "number",
            "description": "Combined size of all attachments in bytes"
          }
        }
      },
      "mutates": false
    }
  ],
  "proxyContract": {
    "executeEndpoint": "/api/agent/integrations/execute",
    "requiredInputs": [
      "integrationKey",
      "actionName",
      "args"
    ]
  },
  "createdAt": "2025-12-26T16:35:51.043Z",
  "updatedAt": "2025-12-26T16:35:51.043Z"
}